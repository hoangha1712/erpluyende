<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luy·ªán L·ªá - ERP System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <div class="fixed left-0 top-0 w-64 h-screen bg-white border-r border-gray-200 overflow-y-auto z-20 shadow-sm">
            <div class="p-6 border-b border-gray-200">
                <h1 class="text-2xl font-bold text-orange-500">Luy√™n L√™</h1>
                <p class="text-sm text-gray-500 mt-2">ERP System v1.0</p>
            </div>

            <nav class="p-4 space-y-2">
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition">
                    <span class="text-xl">üìä</span>
                    <span class="text-sm font-medium">Dashboard</span>
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition">
                    <span class="text-xl">üë•</span>
                    <span class="text-sm font-medium">Hoc Sinh</span>
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition">
                    <span class="text-xl">üìà</span>
                    <span class="text-sm font-medium">Bao Cao</span>
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition">
                    <span class="text-xl">‚öôÔ∏è</span>
                    <span class="text-sm font-medium">Cai Dat</span>
                </a>
            </nav>

            <div class="absolute bottom-0 left-0 right-0 p-4 bg-orange-50 border-t border-gray-200">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-orange-500 flex items-center justify-center text-white font-bold">PO</div>
                    <div>
                        <p class="text-sm font-semibold text-gray-900">Admin PO</p>
                        <p class="text-xs text-gray-500">Luy Len</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="ml-64 flex-1">
            <!-- Header -->
            <div class="bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm">
                <div class="p-6">
                    <div class="flex justify-between items-start gap-4 mb-4">
                        <div>
                            <h2 class="text-2xl font-bold text-gray-900">Lich Su Hoc Tap Hoc Sinh</h2>
                            <p class="text-sm text-gray-500 mt-2">
                                Hoc sinh: <span class="text-orange-600 font-semibold">Nguyen Van A</span> (USR_12345)
                            </p>
                        </div>
                        <button class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition font-medium shadow-sm">
                            Export
                        </button>
                    </div>

                    <!-- Student Info Card -->
                    <div class="bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-lg p-4">
                        <div class="grid grid-cols-1 md:grid-cols-5 gap-3 text-sm">
                            <div>
                                <p class="text-gray-600 font-medium">Ho Ten</p>
                                <p class="text-gray-900 font-semibold mt-1">Nguyen Van A</p>
                            </div>
                            <div>
                                <p class="text-gray-600 font-medium">Nam Sinh</p>
                                <p class="text-gray-900 font-semibold mt-1">2007</p>
                            </div>
                            <div>
                                <p class="text-gray-600 font-medium">So Dien Thoai</p>
                                <div class="flex items-center gap-2 mt-1">
                                    <span class="text-gray-900 font-semibold" id="phoneDisplay">***********</span>
                                    <button onclick="togglePhone()" class="text-orange-600 hover:text-orange-700 cursor-pointer">
                                        <span id="phoneIcon">EYE</span>
                                    </button>
                                </div>
                            </div>
                            <div>
                                <p class="text-gray-600 font-medium">Du Doan</p>
                                <p class="text-orange-600 font-bold text-lg mt-1">68.5%</p>
                            </div>
                            <div>
                                <p class="text-gray-600 font-medium">Do Tin Cay</p>
                                <p class="text-orange-600 font-semibold mt-1">Trung binh</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="p-6">
                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                    <div class="bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition shadow-sm">
                        <div class="flex items-center gap-3">
                            <div class="bg-blue-100 text-blue-600 p-3 rounded-lg">THOI GIAN</div>
                            <div>
                                <p class="text-gray-500 text-sm font-medium">Tong Thoi Gian</p>
                                <p class="text-2xl font-bold text-gray-900 mt-1">4h 32m</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition shadow-sm">
                        <div class="flex items-center gap-3">
                            <div class="bg-green-100 text-green-600 p-3 rounded-lg">DE</div>
                            <div>
                                <p class="text-gray-500 text-sm font-medium">Tong De</p>
                                <p class="text-2xl font-bold text-gray-900 mt-1">40 de</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition shadow-sm">
                        <div class="flex items-center gap-3">
                            <div class="bg-orange-100 text-orange-600 p-3 rounded-lg">DIEM</div>
                            <div>
                                <p class="text-gray-500 text-sm font-medium">Trung Binh</p>
                                <p class="text-2xl font-bold text-gray-900 mt-1">78%</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition shadow-sm">
                        <div class="flex items-center gap-3">
                            <div class="bg-purple-100 text-purple-600 p-3 rounded-lg">TOP</div>
                            <div>
                                <p class="text-gray-500 text-sm font-medium">Xep Hang</p>
                                <p class="text-2xl font-bold text-gray-900 mt-1">Top 5%</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tabs & Filters -->
                <div class="bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm">
                    <!-- Tabs Header -->
                    <div class="border-b border-gray-200">
                        <div class="flex items-center justify-between">
                            <div class="flex">
                                <button onclick="setTab('overview')" id="tab-overview" class="px-6 py-4 text-sm font-semibold transition border-b-2 border-orange-500 text-orange-600 bg-orange-50">
                                    TONG QUAN
                                </button>
                                <button onclick="setTab('tasks')" id="tab-tasks" class="px-6 py-4 text-sm font-semibold transition border-b-2 border-transparent text-gray-600 hover:text-gray-900">
                                    DANH SACH NHIEM VU
                                </button>
                                <button onclick="setTab('skills')" id="tab-skills" class="px-6 py-4 text-sm font-semibold transition border-b-2 border-transparent text-gray-600 hover:text-gray-900">
                                    BAN DO KY NANG
                                </button>
                            </div>
                            <button id="filterBtn" onclick="toggleFilters()" class="mr-4 px-4 py-2 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200 flex items-center gap-2 transition text-sm font-medium" style="display: none;">
                                BO LOC
                            </button>
                        </div>
                    </div>

                    <!-- Filters Panel -->
                    <div id="filterPanel" class="bg-gray-50 border-b border-gray-200 p-4" style="display: none;">
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div>
                                <label class="text-xs font-semibold text-gray-700 mb-2 block">Tim Kiem</label>
                                <input type="text" id="searchInput" placeholder="Ten bai, ky nang..." onkeyup="applyFilters()" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:border-orange-500 text-sm">
                            </div>
                            <div>
                                <label class="text-xs font-semibold text-gray-700 mb-2 block">Cap Do Ky Nang</label>
                                <select id="levelFilter" onchange="applyFilters()" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:border-orange-500 text-sm">
                                    <option value="all">Tat ca Level</option>
                                    <option value="4">Level 4 - Mastery</option>
                                    <option value="3">Level 3 - Advanced</option>
                                    <option value="2">Level 2 - Developing</option>
                                    <option value="1">Level 1 - Beginner</option>
                                </select>
                            </div>
                            <div id="statusFilterDiv" style="display: none;">
                                <label class="text-xs font-semibold text-gray-700 mb-2 block">Trang Thai</label>
                                <select id="statusFilter" onchange="applyFilters()" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:border-orange-500 text-sm">
                                    <option value="all">Tat ca</option>
                                    <option value="Hoan thanh">Hoan thanh</option>
                                    <option value="Dang lam">Dang lam</option>
                                    <option value="Chua lam">Chua lam</option>
                                </select>
                            </div>
                            <div>
                                <label class="text-xs font-semibold text-gray-700 mb-2 block">Mon Hoc</label>
                                <select id="subjectFilter" onchange="applyFilters()" class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:border-orange-500 text-sm">
                                    <option value="all">Tat ca mon</option>
                                    <option value="Toan 12">Toan 12</option>
                                    <option value="Xac suat">Xac suat</option>
                                    <option value="Gioi han">Gioi han</option>
                                </select>
                            </div>
                        </div>
                        <div class="mt-4">
                            <button onclick="resetFilters()" class="px-4 py-2 text-sm bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 hover:text-gray-900 rounded-lg transition font-medium">
                                Dat lai bo loc
                            </button>
                        </div>
                    </div>

                    <!-- Tab Content -->
                    <div class="p-6">
                        <!-- Overview Tab -->
                        <div id="overview-content" class="space-y-6">
                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                <p class="text-sm text-blue-900">
                                    <strong>Tom Tat:</strong> Hoc sinh co nang luc toan hoc o muc trung binh cao (68.5%). 
                                </p>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h3 class="text-lg font-bold text-gray-900 mb-4">Thanh Thao (L3-L4)</h3>
                                    <div class="space-y-3">
                                        <div class="bg-white p-4 rounded-lg border border-green-200 shadow-sm">
                                            <div class="flex justify-between items-start mb-3">
                                                <p class="font-semibold text-gray-900">Hinh Hoc Khong Gian</p>
                                                <span class="px-2 py-1 rounded text-xs font-bold bg-green-100 text-green-700 border border-green-300">L4</span>
                                            </div>
                                            <div class="flex items-center gap-4 text-sm">
                                                <span class="text-green-600 font-bold">95%</span>
                                                <span class="text-gray-500">12 de</span>
                                            </div>
                                        </div>
                                        <div class="bg-white p-4 rounded-lg border border-green-200 shadow-sm">
                                            <div class="flex justify-between items-start mb-3">
                                                <p class="font-semibold text-gray-900">Nguyen Ham</p>
                                                <span class="px-2 py-1 rounded text-xs font-bold bg-green-100 text-green-700 border border-green-300">L4</span>
                                            </div>
                                            <div class="flex items-center gap-4 text-sm">
                                                <span class="text-green-600 font-bold">92%</span>
                                                <span class="text-gray-500">10 de</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h3 class="text-lg font-bold text-gray-900 mb-4">Can Cai Thien (L1-L2)</h3>
                                    <div class="space-y-3">
                                        <div class="bg-white p-4 rounded-lg border border-amber-200 shadow-sm">
                                            <div class="flex justify-between items-start mb-3">
                                                <p class="font-semibold text-gray-900">Xac Suat</p>
                                                <span class="px-2 py-1 rounded text-xs font-bold bg-amber-100 text-amber-700 border border-amber-300">L2</span>
                                            </div>
                                            <div class="flex items-center gap-4 text-sm">
                                                <span class="text-red-600 font-bold">45%</span>
                                                <span class="text-gray-500">3 de</span>
                                            </div>
                                        </div>
                                        <div class="bg-white p-4 rounded-lg border border-amber-200 shadow-sm">
                                            <div class="flex justify-between items-start mb-3">
                                                <p class="font-semibold text-gray-900">Gioi Han</p>
                                                <span class="px-2 py-1 rounded text-xs font-bold bg-amber-100 text-amber-700 border border-amber-300">L2</span>
                                            </div>
                                            <div class="flex items-center gap-4 text-sm">
                                                <span class="text-red-600 font-bold">40%</span>
                                                <span class="text-gray-500">2 de</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tasks Tab -->
                        <div id="tasks-content" class="space-y-4" style="display: none;">
                            <div class="bg-amber-50 border border-amber-200 rounded-lg p-3">
                                <p class="text-sm text-amber-900">
                                    <strong>Danh sach:</strong> Tim duoc <span class="font-bold" id="taskCount">8</span> nhiem vu
                                </p>
                            </div>

                            <div class="overflow-x-auto bg-white rounded-lg border border-gray-200 shadow-sm">
                                <table class="w-full text-sm">
                                    <thead>
                                        <tr class="bg-gray-50 border-b border-gray-200">
                                            <th class="px-4 py-3 text-left font-semibold text-gray-700">STT</th>
                                            <th class="px-4 py-3 text-left font-semibold text-gray-700">Ten Bai Tap</th>
                                            <th class="px-4 py-3 text-left font-semibold text-gray-700">Mon Hoc</th>
                                            <th class="px-4 py-3 text-center font-semibold text-gray-700">Level</th>
                                            <th class="px-4 py-3 text-left font-semibold text-gray-700">Trang Thai</th>
                                            <th class="px-4 py-3 text-center font-semibold text-gray-700">Diem</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tasksTableBody">
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Skills Tab -->
                        <div id="skills-content" class="space-y-4" style="display: none;">
                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                                <p class="text-sm text-blue-900">
                                    <strong>Thong ke:</strong> Tim duoc <span class="font-bold" id="skillCount">6</span> ky nang
                                </p>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h3 class="font-bold text-gray-900 mb-4">Danh Sach Ky Nang</h3>
                                    <div class="space-y-2" id="skillsList">
                                    </div>
                                </div>

                                <div>
                                    <h3 class="font-bold text-gray-900 mb-4">Phan Bo Theo Level</h3>
                                    <div class="space-y-3">
                                        <div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm">
                                            <div class="flex justify-between items-center mb-2">
                                                <p class="font-semibold text-gray-900">Thanh Thao (L4)</p>
                                                <span class="bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold">2</span>
                                            </div>
                                            <div class="w-full bg-gray-200 rounded h-2 overflow-hidden">
                                                <div class="bg-green-500 h-full" style="width: 33%"></div>
                                            </div>
                                        </div>
                                        <div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm">
                                            <div class="flex justify-between items-center mb-2">
                                                <p class="font-semibold text-gray-900">Nang Cao (L3)</p>
                                                <span class="bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold">1</span>
                                            </div>
                                            <div class="w-full bg-gray-200 rounded h-2 overflow-hidden">
                                                <div class="bg-blue-500 h-full" style="width: 17%"></div>
                                            </div>
                                        </div>
                                        <div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm">
                                            <div class="flex justify-between items-center mb-2">
                                                <p class="font-semibold text-gray-900">Phat Trien (L2)</p>
                                                <span class="bg-amber-500 text-white px-3 py-1 rounded-full text-sm font-bold">3</span>
                                            </div>
                                            <div class="w-full bg-gray-200 rounded h-2 overflow-hidden">
                                                <div class="bg-amber-500 h-full" style="width: 50%"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const allTasksData = [
            { id: 1, name: 'Quan He Song Song', subject: 'Toan 12', status: 'Hoan thanh', score: 85, level: 3 },
            { id: 2, name: 'Phuong Trinh Bac 2', subject: 'Toan 12', status: 'Chua lam', score: null, level: 2 },
            { id: 3, name: 'Xac Suat', subject: 'Toan 12', status: 'Chua lam', score: null, level: 2 },
            { id: 4, name: 'Gioi Han', subject: 'Toan 12', status: 'Chua lam', score: null, level: 1 },
            { id: 5, name: 'Hinh Hoc Khong Gian', subject: 'Toan 12', status: 'Chua lam', score: null, level: 4 },
            { id: 6, name: 'Tich Phan', subject: 'Toan 12', status: 'Hoan thanh', score: 92, level: 4 },
            { id: 7, name: 'Luong Giac Co Ban', subject: 'Toan 12', status: 'Hoan thanh', score: 88, level: 3 },
            { id: 8, name: 'Phuong Trinh Mu', subject: 'Toan 12', status: 'Dang lam', score: 65, level: 2 }
        ];

        const skillsData = [
            { name: 'Hinh Hoc Khong Gian', level: 4, score: 95, attempts: 12, subject: 'Toan 12' },
            { name: 'Nguyen Ham', level: 4, score: 92, attempts: 10, subject: 'Toan 12' },
            { name: 'Luong Giac', level: 3, score: 88, attempts: 9, subject: 'Toan 12' },
            { name: 'Xac Suat', level: 2, score: 45, attempts: 3, subject: 'Xac suat' },
            { name: 'Gioi Han', level: 2, score: 40, attempts: 2, subject: 'Gioi han' },
            { name: 'Phuong Trinh Bac 2', level: 2, score: 60, attempts: 4, subject: 'Toan 12' }
        ];

        let currentTab = 'overview';

        function setTab(tab) {
            currentTab = tab;
            
            document.getElementById('overview-content').style.display = 'none';
            document.getElementById('tasks-content').style.display = 'none';
            document.getElementById('skills-content').style.display = 'none';
            
            document.getElementById('tab-overview').classList.remove('border-orange-500', 'text-orange-600', 'bg-orange-50');
            document.getElementById('tab-overview').classList.add('border-transparent', 'text-gray-600');
            document.getElementById('tab-tasks').classList.remove('border-orange-500', 'text-orange-600', 'bg-orange-50');
            document.getElementById('tab-tasks').classList.add('border-transparent', 'text-gray-600');
            document.getElementById('tab-skills').classList.remove('border-orange-500', 'text-orange-600', 'bg-orange-50');
            document.getElementById('tab-skills').classList.add('border-transparent', 'text-gray-600');
            
            if (tab === 'overview') {
                document.getElementById('overview-content').style.display = 'block';
                document.getElementById('tab-overview').classList.remove('border-transparent', 'text-gray-600');
                document.getElementById('tab-overview').classList.add('border-orange-500', 'text-orange-600', 'bg-orange-50');
                document.getElementById('filterBtn').style.display = 'none';
            } else if (tab === 'tasks') {
                document.getElementById('tasks-content').style.display = 'block';
                document.getElementById('tab-tasks').classList.remove('border-transparent', 'text-gray-600');
                document.getElementById('tab-tasks').classList.add('border-orange-500', 'text-orange-600', 'bg-orange-50');
                document.getElementById('filterBtn').style.display = 'flex';
                document.getElementById('statusFilterDiv').style.display = 'block';
                renderTasks();
            } else if (tab === 'skills') {
                document.getElementById('skills-content').style.display = 'block';
                document.getElementById('tab-skills').classList.remove('border-transparent', 'text-gray-600');
                document.getElementById('tab-skills').classList.add('border-orange-500', 'text-orange-600', 'bg-orange-50');
                document.getElementById('filterBtn').style.display = 'flex';
                document.getElementById('statusFilterDiv').style.display = 'none';
                renderSkills();
            }
        }

        function toggleFilters() {
            const filterPanel = document.getElementById('filterPanel');
            filterPanel.style.display = filterPanel.style.display === 'none' ? 'block' : 'none';
        }

        function applyFilters() {
            if (currentTab === 'tasks') {
                renderTasks();
            } else if (currentTab === 'skills') {
                renderSkills();
            }
        }

        function renderTasks() {
            const search = document.getElementById('searchInput').value.toLowerCase();
            const level = document.getElementById('levelFilter').value;
            const status = document.getElementById('statusFilter').value;
            const subject = document.getElementById('subjectFilter').value;

            const filtered = allTasksData.filter(task => {
                const matchSearch = task.name.toLowerCase().includes(search) || task.subject.toLowerCase().includes(search);
                const matchLevel = level === 'all' || task.level === parseInt(level);
                const matchStatus = status === 'all' || task.status === status;
                const matchSubject = subject === 'all' || task.subject === subject;
                
                return matchSearch && matchLevel && matchStatus && matchSubject;
            });

            document.getElementById('taskCount').textContent = filtered.length;

            const tbody = document.getElementById('tasksTableBody');
            tbody.innerHTML = '';

            if (filtered.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="px-4 py-8 text-center text-gray-500">Khong tim thay ket qua phu hop</td></tr>';
                return;
            }

            filtered.forEach((task, idx) => {
                const levelColors = {
                    4: 'bg-green-100 text-green-700',
                    3: 'bg-blue-100 text-blue-700',
                    2: 'bg-amber-100 text-amber-700',
                    1: 'bg-red-100 text-red-700'
                };

                const statusColors = {
                    'Hoan thanh': 'bg-green-100 text-green-700',
                    'Dang lam': 'bg-blue-100 text-blue-700',
                    'Chua lam': 'bg-gray-100 text-gray-700'
                };

                const row = document.createElement('tr');
                row.className = 'border-b border-gray-200 hover:bg-gray-50 transition';
                row.innerHTML = '<td class="px-4 py-3 text-gray-500 font-medium">' + (idx + 1) + '</td>' +
                    '<td class="px-4 py-3 font-semibold text-gray-900">' + task.name + '</td>' +
                    '<td class="px-4 py-3 text-gray-600">' + task.subject + '</td>' +
                    '<td class="px-4 py-3 text-center"><span class="px-2 py-1 rounded text-xs font-bold inline-block ' + levelColors[task.level] + '">L' + task.level + '</span></td>' +
                    '<td class="px-4 py-3"><span class="px-3 py-1 rounded-full text-xs font-bold inline-block ' + statusColors[task.status] + '">' + task.status + '</span></td>' +
                    '<td class="px-4 py-3 text-center font-bold text-orange-600">' + (task.score ? task.score + '%' : '-') + '</td>';
                tbody.appendChild(row);
            });
        }

        function renderSkills() {
            const search = document.getElementById('searchInput').value.toLowerCase();
            const level = document.getElementById('levelFilter').value;
            const subject = document.getElementById('subjectFilter').value;

            const filtered = skillsData.filter(skill => {
                const matchSearch = skill.name.toLowerCase().includes(search);
                const matchLevel = level === 'all' || skill.level === parseInt(level);
                const matchSubject = subject === 'all' || skill.subject === subject;
                
                return matchSearch && matchLevel && matchSubject;
            });

            document.getElementById('skillCount').textContent = filtered.length;

            const skillsList = document.getElementById('skillsList');
            skillsList.innerHTML = '';

            if (filtered.length === 0) {
                skillsList.innerHTML = '<div class="text-center py-8 text-gray-500">Khong tim thay ky nang phu hop</div>';
                return;
            }

            filtered.forEach(skill => {
                const levelColors = {
                    4: 'bg-green-100 text-green-700 border-green-300',
                    3: 'bg-blue-100 text-blue-700 border-blue-300',
                    2: 'bg-amber-100 text-amber-700 border-amber-300',
                    1: 'bg-red-100 text-red-700 border-red-300'
                };

                const div = document.createElement('div');
                div.className = 'bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition shadow-sm';
                div.innerHTML = '<div class="flex justify-between items-center mb-2">' +
                    '<p class="font-semibold text-gray-900 text-sm">' + skill.name + '</p>' +
                    '<span class="px-2 py-1 rounded text-xs font-bold border ' + levelColors[skill.level] + '">L' + skill.level + '</span>' +
                    '</div>' +
                    '<div class="w-full bg-gray-200 rounded h-2 overflow-hidden mb-2">' +
                    '<div class="bg-orange-500 h-full" style="width: ' + skill.score + '%"></div>' +
                    '</div>' +
                    '<div class="flex justify-between text-xs text-gray-500">' +
                    '<span class="text-orange-600 font-bold">' + skill.score + '%</span>' +
                    '<span>' + skill.attempts + ' de</span>' +
                    '</div>';
                skillsList.appendChild(div);
            });
        }

        function resetFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('levelFilter').value = 'all';
            document.getElementById('statusFilter').value = 'all';
            document.getElementById('subjectFilter').value = 'all';
            applyFilters();
        }

        function togglePhone() {
            const phoneDisplay = document.getElementById('phoneDisplay');
            const phoneIcon = document.getElementById('phoneIcon');
            
            if (phoneDisplay.textContent === '***********') {
                phoneDisplay.textContent = '0123456789';
                phoneIcon.textContent = 'HIDE';
            } else {
                phoneDisplay.textContent = '***********';
                phoneIcon.textContent = 'EYE';
            }
        }

        renderTasks();
        renderSkills();
    </script>
</body>
</html>
