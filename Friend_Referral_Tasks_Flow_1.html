<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NV-2 & NV-3: M·ªùi B·∫°n B√® - Luyende.vn</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            padding: 50px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 3px solid #FF8E53;
        }
        
        .header h1 {
            font-size: 42px;
            color: #1a2035;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .event-tag {
            display: inline-block;
            background: linear-gradient(135deg, #FF8E53, #FE6B8B);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-top: 10px;
        }
        
        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, #FFF3E0, #FFE0B2);
            border-left: 6px solid #FF8E53;
            border-radius: 16px;
            padding: 25px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(255, 142, 83, 0.2);
        }
        
        .info-box h3 {
            font-size: 20px;
            color: #1a2035;
            margin-bottom: 15px;
            font-weight: 700;
        }
        
        .info-box ul {
            margin-top: 10px;
            padding-left: 20px;
        }
        
        .info-box li {
            color: #334155;
            line-height: 1.8;
            margin-bottom: 8px;
            font-size: 15px;
        }
        
        .info-box strong {
            color: #FF6B6B;
        }
        
        .info-box code {
            background: #1a2035;
            color: #FFD93D;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 13px;
            font-family: 'Courier New', monospace;
        }
        
        /* Section */
        .flow-section {
            margin: 60px 0;
        }
        
        .section-title {
            font-size: 28px;
            color: #1a2035;
            font-weight: 800;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid #FF8E53;
        }
        
        /* Step Cards */
        .step-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .step-card {
            background: #f8fafc;
            border-radius: 16px;
            padding: 30px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        
        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border-color: #FF8E53;
        }
        
        .step-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 24px;
            margin-bottom: 20px;
        }
        
        .step-title {
            font-size: 20px;
            color: #1a2035;
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        .step-description {
            color: #64748b;
            line-height: 1.8;
            font-size: 15px;
            margin-bottom: 15px;
        }
        
        .step-list {
            list-style: none;
            padding-left: 0;
        }
        
        .step-list li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
            color: #334155;
            line-height: 1.6;
        }
        
        .step-list li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: #FF8E53;
            font-weight: 800;
            font-size: 18px;
        }
        
        /* Phone Mockup */
        .phone-mockup-container {
            display: flex;
            gap: 40px;
            justify-content: center;
            align-items: flex-start;
            flex-wrap: wrap;
            margin: 40px 0;
        }
        
        .phone-mockup {
            width: 320px;
            background: #1a2035;
            border-radius: 40px;
            padding: 15px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        .phone-notch {
            width: 150px;
            height: 30px;
            background: #1a2035;
            border-radius: 0 0 20px 20px;
            margin: 0 auto 10px;
        }
        
        .phone-screen {
            background: white;
            border-radius: 30px;
            overflow: hidden;
            min-height: 600px;
        }
        
        .phone-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 20px;
            color: white;
            text-align: center;
        }
        
        .phone-header h3 {
            font-size: 18px;
            margin-bottom: 5px;
        }
        
        .phone-content {
            padding: 25px;
        }
        
        /* Referral Card */
        .referral-card {
            background: linear-gradient(135deg, #FFF3E0, #FFE0B2);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border: 2px solid #FF8E53;
        }
        
        .referral-link {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 13px;
            color: #667eea;
            font-weight: 600;
        }
        
        .copy-btn {
            background: #FF8E53;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            font-size: 15px;
            margin-top: 10px;
        }
        
        /* Progress Card */
        .progress-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .progress-title {
            font-size: 14px;
            font-weight: 700;
            color: #1a2035;
        }
        
        .progress-count {
            font-size: 20px;
            font-weight: 800;
            color: #FF8E53;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #FF8E53, #FE6B8B);
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .progress-status {
            font-size: 12px;
            color: #64748b;
        }
        
        /* Flow Arrow */
        .flow-arrow {
            text-align: center;
            margin: 30px 0;
            position: relative;
        }
        
        .flow-arrow-text {
            background: #FF8E53;
            color: white;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 16px;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(255, 142, 83, 0.3);
        }
        
        .flow-arrow:after {
            content: "‚Üì";
            display: block;
            font-size: 40px;
            color: #FF8E53;
            margin-top: 10px;
            font-weight: 800;
        }
        
        /* Table */
        .table-container {
            overflow-x: auto;
            margin: 30px 0;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }
        
        th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 18px;
            text-align: left;
            font-weight: 700;
            font-size: 14px;
        }
        
        td {
            padding: 18px;
            border-bottom: 1px solid #e2e8f0;
            color: #334155;
            font-size: 14px;
            line-height: 1.6;
        }
        
        tr:hover {
            background: #f8fafc;
        }
        
        td strong {
            color: #FF8E53;
            font-weight: 700;
        }
        
        td code {
            background: #1a2035;
            color: #FFD93D;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-family: 'Courier New', monospace;
        }
        
        /* Badge */
        .badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
        }
        
        .badge-pending {
            background: #FFF3E0;
            color: #FF8E53;
        }
        
        .badge-verified {
            background: #DCFCE7;
            color: #10B981;
        }
        
        .badge-completed {
            background: #E0E7FF;
            color: #667eea;
        }
        
        /* Popup Success */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .popup-container {
            background: #1a2035;
            border-radius: 24px;
            padding: 40px;
            max-width: 450px;
            width: 90%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #FFD93D;
            animation: confettiFall 3s linear infinite;
        }
        
        @keyframes confettiFall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(600px) rotate(360deg);
                opacity: 0;
            }
        }
        
        .popup-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .popup-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }
        
        .popup-content {
            position: relative;
            z-index: 1;
            text-align: center;
        }
        
        .popup-title {
            font-size: 32px;
            color: #FF8E53;
            font-weight: 800;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .popup-points {
            font-size: 72px;
            color: #FFD93D;
            font-weight: 900;
            margin: 20px 0;
            text-shadow: 0 4px 10px rgba(255, 217, 61, 0.3);
        }
        
        .popup-task {
            color: white;
            font-size: 16px;
            margin-bottom: 15px;
            opacity: 0.9;
        }
        
        .popup-description {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            line-height: 1.8;
            margin-bottom: 30px;
        }
        
        .popup-cta {
            background: linear-gradient(135deg, #FF8E53, #FE6B8B);
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 142, 83, 0.4);
        }
        
        .popup-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 142, 83, 0.5);
        }
        
        /* Engagement Badge */
        .engagement-badge {
            background: linear-gradient(135deg, #10B981, #059669);
            color: white;
            padding: 20px;
            border-radius: 16px;
            text-align: center;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        
        .engagement-badge h4 {
            font-size: 18px;
            margin-bottom: 10px;
        }
        
        .engagement-badge p {
            font-size: 14px;
            opacity: 0.9;
        }
        
        /* Summary Box */
        .summary-box {
            background: linear-gradient(135deg, #E0E7FF, #C7D2FE);
            border-radius: 20px;
            padding: 30px;
            margin-top: 50px;
            border: 3px solid #667eea;
        }
        
        .summary-box h3 {
            font-size: 24px;
            color: #1a2035;
            font-weight: 800;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .summary-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #e2e8f0;
        }
        
        .summary-label {
            font-size: 13px;
            color: #64748b;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .summary-value {
            font-size: 28px;
            color: #1a2035;
            font-weight: 800;
        }
        
        /* Download Button */
        .download-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 32px;
            }
            
            .step-container {
                grid-template-columns: 1fr;
            }
            
            .phone-mockup {
                width: 100%;
                max-width: 320px;
            }
            
            table {
                font-size: 12px;
            }
            
            th, td {
                padding: 12px 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üë• NV-2 & NV-3: M·ªùi B·∫°n B√®</h1>
            <div class="event-tag">Event: ƒê∆∞·ªùng ƒêua Sƒ© T·ª≠ üèÜ</div>
            <div style="margin-top: 20px; display: flex; justify-content: center; gap: 15px;">
                <button class="download-btn" onclick="downloadHTML()">
                    ‚¨áÔ∏è Download HTML
                </button>
            </div>
        </div>

        <!-- Info Box -->
        <div class="info-box">
            <h3>üéØ Th√¥ng Tin Nhi·ªám V·ª•</h3>
            <ul>
                <li><strong>NV-2:</strong> M·ªùi 3 b·∫°n b√® (c√≥ x√°c th·ª±c SƒêT) ‚Üí <strong>+300 ƒëi·ªÉm ‚ö°</strong></li>
                <li><strong>NV-3:</strong> M·ªùi 5 b·∫°n b√® (c√≥ x√°c th·ª±c SƒêT) ‚Üí <strong>+700 ƒëi·ªÉm ‚ö°</strong> (t·ªïng 1,000 ƒëi·ªÉm)</li>
                <li><strong>C∆° ch·∫ø:</strong> Referral Link v·ªõi m√£ ref code unique ‚Üí B·∫°n b√® verify OTP ‚Üí <strong>User login l·∫°i</strong> ‚Üí Popup nh·∫≠n th∆∞·ªüng</li>
                <li><strong>Popup Timing:</strong> Popup xu·∫•t hi·ªán <strong>ngay sau khi login</strong>, tr∆∞·ªõc khi v√†o m√†n nhi·ªám v·ª• ‚Üí TƒÉng th√≠ch th√∫, kh√¥ng c·ªông ƒëi·ªÉm √¢m th·∫ßm</li>
                <li><strong>Engagement:</strong> B·∫°n b√® click link ‚Üí <strong>Popup tr√™n trang Luyende.vn</strong> ‚Üí Highlight ng∆∞·ªùi m·ªùi ‚Üí Motivate ƒëƒÉng k√Ω</li>
            </ul>
        </div>

        <!-- Overview Flow -->
        <div class="flow-section">
            <h2 class="section-title">üìã T·ªïng Quan Flow</h2>
            <div class="step-container">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3 class="step-title">User Chia S·∫ª Link</h3>
                    <p class="step-description">User copy referral link v√† chia s·∫ª qua Zalo, Messenger, ho·∫∑c m·∫°ng x√£ h·ªôi kh√°c</p>
                    <ul class="step-list">
                        <li>Link format: <code>luyende.vn/event/si-tu?ref=A123456</code></li>
                        <li>Copy to clipboard ‚Üí Share via Zalo/Messenger/Facebook</li>
                        <li>C√≥ th·ªÉ share nhi·ªÅu l·∫ßn, kh√¥ng gi·ªõi h·∫°n</li>
                    </ul>
                </div>
                
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3 class="step-title">B·∫°n B√® Signup + OTP</h3>
                    <p class="step-description">B·∫°n b√® click link ‚Üí ƒêƒÉng k√Ω t√†i kho·∫£n ‚Üí X√°c th·ª±c SƒêT qua OTP</p>
                    <ul class="step-list">
                        <li>Click link ‚Üí Landing page v·ªõi engagement UI</li>
                        <li>Signup v·ªõi ref code embedded</li>
                        <li>X√°c th·ª±c OTP ‚Üí Tr·∫°ng th√°i: VERIFIED</li>
                    </ul>
                </div>
            </div>
            
            <div class="step-container">
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3 class="step-title">User Login L·∫°i ‚Üí Check & C·ªông ƒêi·ªÉm</h3>
                    <p class="step-description">User login l·∫°i ‚Üí H·ªá th·ªëng check s·ªë b·∫°n VERIFIED ‚Üí Popup nh·∫≠n th∆∞·ªüng</p>
                    <ul class="step-list">
                        <li><strong>ƒêi·ªÅu ki·ªán:</strong> User ph·∫£i login l·∫°i, kh√¥ng c·ªông ƒëi·ªÉm √¢m th·∫ßm</li>
                        <li><strong>Th·ªùi ƒëi·ªÉm popup:</strong> Ngay sau login, tr∆∞·ªõc khi v√†o m√†n nhi·ªám v·ª•</li>
                        <li>ƒê·ªß 3 b·∫°n VERIFIED ‚Üí Popup NV-2 (+300ƒë)</li>
                        <li>ƒê·ªß 5 b·∫°n VERIFIED ‚Üí Popup NV-3 (+700ƒë)</li>
                    </ul>
                </div>
                
                <div class="step-card">
                    <div class="step-number">4</div>
                    <h3 class="step-title">Popup Nh·∫≠n Th∆∞·ªüng (Khi Login)</h3>
                    <p class="step-description">Popup xu·∫•t hi·ªán ngay sau khi login, tr∆∞·ªõc khi v√†o m√†n nhi·ªám v·ª•</p>
                    <ul class="step-list">
                        <li><strong>Timing:</strong> Login success ‚Üí Check ƒëi·ªÅu ki·ªán ‚Üí Popup ngay</li>
                        <li>NV-2 ƒë·ªß ƒëi·ªÅu ki·ªán: Popup +300 ƒëi·ªÉm ‚ö°</li>
                        <li>NV-3 ƒë·ªß ƒëi·ªÅu ki·ªán: Popup +700 ƒëi·ªÉm ‚ö° (ri√™ng bi·ªát)</li>
                        <li>Confetti animation + auto-dismiss sau 5s</li>
                        <li><strong>M·ª•c ƒë√≠ch:</strong> TƒÉng th√≠ch th√∫, kh√¥ng c·ªông ƒëi·ªÉm √¢m th·∫ßm</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Chi Ti·∫øt User Flow -->
        <div class="flow-section">
            <h2 class="section-title">üì± Chi Ti·∫øt User Flow (With Phone Mockups)</h2>
            
            <!-- Step 1: User Share -->
            <div class="phone-mockup-container">
                <div class="phone-mockup">
                    <div class="phone-notch"></div>
                    <div class="phone-screen">
                        <div class="phone-header">
                            <h3>üì± M√†n 1: Chia S·∫ª Link</h3>
                            <p style="font-size: 13px; opacity: 0.9;">M·ªùi B·∫°n B√® Popup</p>
                        </div>
                        <div class="phone-content">
                            <!-- Popup Design from Image -->
                            <div style="background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
                                <div style="text-align: center; margin-bottom: 20px;">
                                    <h3 style="font-size: 20px; color: #1a2035; font-weight: 800; margin-bottom: 5px;">M·ªùi 5 b·∫°n b√® (C√≥ x√°c th·ª±c SƒêT)</h3>
                                </div>
                                
                                <!-- Referral Link Box -->
                                <div style="background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 12px; padding: 15px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                                    <div style="flex: 1; font-size: 13px; color: #667eea; font-weight: 600; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                        üîó luyende.vn/event/si-tu?ref=A123456
                                    </div>
                                </div>
                                
                                <button style="background: #FF8E53; color: white; border: none; padding: 14px; border-radius: 12px; font-weight: 700; width: 100%; font-size: 16px; margin-bottom: 20px; cursor: pointer;">
                                    üìã Sao ch√©p
                                </button>
                                
                                <!-- Visual Flow -->
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                                    <div style="text-align: center; flex: 1;">
                                        <div style="width: 60px; height: 60px; margin: 0 auto 8px; background: #E0E7FF; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 28px;">
                                            üë§
                                        </div>
                                        <div style="font-size: 11px; color: #64748b; font-weight: 600;">M·ªùi b·∫°n ƒëƒÉng k√Ω</div>
                                    </div>
                                    
                                    <div style="font-size: 24px; color: #FF8E53; font-weight: 800;">‚Üí</div>
                                    
                                    <div style="text-align: center; flex: 1;">
                                        <div style="width: 60px; height: 60px; margin: 0 auto 8px; background: #FFF3E0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 28px;">
                                            üì±
                                        </div>
                                        <div style="font-size: 11px; color: #64748b; font-weight: 600;">B·∫°n x√°c th·ª±c OTP</div>
                                    </div>
                                    
                                    <div style="font-size: 24px; color: #FF8E53; font-weight: 800;">‚Üí</div>
                                    
                                    <div style="text-align: center; flex: 1;">
                                        <div style="width: 60px; height: 60px; margin: 0 auto 8px; background: #FFE0E0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 28px;">
                                            üéÅ
                                        </div>
                                        <div style="font-size: 11px; color: #64748b; font-weight: 600;">Nh·∫≠n th∆∞·ªüng</div>
                                    </div>
                                </div>
                                
                                <!-- Status Message -->
                                <div style="background: #FFF3E0; border: 2px solid #FF8E53; border-radius: 12px; padding: 15px; text-align: center;">
                                    <p style="font-size: 13px; color: #1a2035; line-height: 1.6; margin: 0;">
                                        <strong>3 b·∫°n</strong> ƒëƒÉng k√Ω qua link v√† x√°c th·ª±c s·ªë ƒëi·ªán tho·∫°i nh·∫≠n th∆∞·ªüng ngay. Share v√†o group l·ªõp ƒë·ªÉ m·ªùi nhanh nha.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="phone-mockup">
                    <div class="phone-notch"></div>
                    <div class="phone-screen">
                        <div class="phone-header">
                            <h3>üéØ M√†n 2: B·∫°n B√® Click Link</h3>
                            <p style="font-size: 13px; opacity: 0.9;">Popup tr√™n trang Luyende.vn</p>
                        </div>
                        <div class="phone-content">
                            <div class="engagement-badge">
                                <h4>üëã B·∫°n ƒë∆∞·ª£c m·ªùi b·ªüi</h4>
                                <p style="font-size: 20px; font-weight: 800; margin-top: 10px;">Nguy·ªÖn VƒÉn A</p>
                            </div>
                            
                            <div style="background: #FFF3E0; border-radius: 12px; padding: 20px; margin: 20px 0; border: 2px solid #FF8E53;">
                                <h4 style="font-size: 16px; color: #1a2035; margin-bottom: 10px;">üèÜ ƒê∆∞·ªùng ƒêua Sƒ© T·ª≠</h4>
                                <p style="font-size: 13px; color: #64748b; line-height: 1.6; margin-bottom: 15px;">
                                    Tham gia s·ª± ki·ªán c√πng b·∫°n m√¨nh ƒë·ªÉ nh·∫≠n th∆∞·ªüng v√† c·∫°nh tranh tr√™n b·∫£ng x·∫øp h·∫°ng!
                                </p>
                                <div style="display: flex; gap: 10px; font-size: 12px; color: #64748b;">
                                    <div style="flex: 1; text-align: center; background: white; padding: 10px; border-radius: 8px;">
                                        <div style="font-size: 20px; font-weight: 800; color: #FF8E53;">9.9M</div>
                                        <div>T·ªïng gi·∫£i th∆∞·ªüng</div>
                                    </div>
                                    <div style="flex: 1; text-align: center; background: white; padding: 10px; border-radius: 8px;">
                                        <div style="font-size: 20px; font-weight: 800; color: #10B981;">50K+</div>
                                        <div>ƒê√£ tham gia</div>
                                    </div>
                                </div>
                            </div>
                            
                            <button class="copy-btn">üöÄ ƒêƒÉng k√Ω ngay</button>
                            
                            <div style="margin-top: 15px; text-align: center;">
                                <p style="font-size: 12px; color: #64748b;">
                                    ‚úì Mi·ªÖn ph√≠ ¬∑ ‚úì H·ªçc c√πng b·∫°n b√® ¬∑ ‚úì Nh·∫≠n th∆∞·ªüng
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flow-arrow">
                <div class="flow-arrow-text">User ƒëƒÉng k√Ω + X√°c th·ª±c OTP ‚Üí VERIFIED ‚úì</div>
            </div>
            
            <!-- Step 3: Popup Success -->
            <div class="phone-mockup-container">
                <div class="phone-mockup">
                    <div class="phone-notch"></div>
                    <div class="phone-screen">
                        <div class="phone-header">
                            <h3>üéâ M√†n 3: NV-2 Completed</h3>
                            <p style="font-size: 13px; opacity: 0.9;">Popup +300 ƒëi·ªÉm</p>
                        </div>
                        <div class="phone-content">
                            <div style="background: #1a2035; border-radius: 16px; padding: 30px; text-align: center; position: relative; overflow: hidden;">
                                <!-- Confetti simulation -->
                                <div style="position: absolute; top: 10px; left: 20%; width: 10px; height: 10px; background: #FFD93D; border-radius: 50%;"></div>
                                <div style="position: absolute; top: 30px; left: 40%; width: 8px; height: 8px; background: #FF8E53; border-radius: 50%;"></div>
                                <div style="position: absolute; top: 15px; right: 30%; width: 12px; height: 12px; background: #10B981; border-radius: 50%;"></div>
                                <div style="position: absolute; top: 40px; right: 20%; width: 10px; height: 10px; background: #667eea; border-radius: 50%;"></div>
                                
                                <div style="position: relative; z-index: 1;">
                                    <h3 style="font-size: 28px; color: #FF8E53; font-weight: 800; margin-bottom: 20px;">CH√öC M·ª™NG</h3>
                                    <div style="font-size: 60px; color: #FFD93D; font-weight: 900; margin: 20px 0;">300 ‚ö°</div>
                                    <p style="color: white; font-size: 14px; margin-bottom: 10px;">Ho√†n th√†nh nhi·ªám v·ª•:</p>
                                    <p style="color: white; font-size: 16px; font-weight: 700; margin-bottom: 20px;">M·ªùi 3 b·∫°n b√® (C√≥ x√°c th·ª±c SƒêT)</p>
                                    <p style="color: rgba(255,255,255,0.8); font-size: 13px; line-height: 1.6; margin-bottom: 25px;">
                                        3 b·∫°n ƒëƒÉng k√Ω qua link v√† x√°c th·ª±c s·ªë ƒëi·ªán tho·∫°i th√†nh c√¥ng. Share v√†o group l·ªõp ƒë·ªÉ m·ªùi nhanh nha!
                                    </p>
                                    <button style="background: linear-gradient(135deg, #FF8E53, #FE6B8B); color: white; border: none; padding: 14px 30px; border-radius: 10px; font-weight: 700; width: 100%; font-size: 16px;">
                                        Nh·∫≠n ngay (5s)
                                    </button>
                                </div>
                            </div>
                            
                            <div class="progress-card" style="margin-top: 20px;">
                                <div class="progress-header">
                                    <span class="progress-title">NV-3: M·ªùi 5 b·∫°n</span>
                                    <span class="progress-count">3/5</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 60%;"></div>
                                </div>
                                <div class="progress-status">‚ö° C√≤n 2 b·∫°n n·ªØa ‚Üí +700 ƒëi·ªÉm</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="phone-mockup">
                    <div class="phone-notch"></div>
                    <div class="phone-screen">
                        <div class="phone-header">
                            <h3>üèÜ M√†n 4: NV-3 Completed</h3>
                            <p style="font-size: 13px; opacity: 0.9;">Popup +700 ƒëi·ªÉm</p>
                        </div>
                        <div class="phone-content">
                            <div style="background: #1a2035; border-radius: 16px; padding: 30px; text-align: center; position: relative; overflow: hidden;">
                                <!-- Confetti simulation -->
                                <div style="position: absolute; top: 10px; left: 15%; width: 12px; height: 12px; background: #FFD93D; border-radius: 50%;"></div>
                                <div style="position: absolute; top: 25px; left: 35%; width: 10px; height: 10px; background: #FF8E53; border-radius: 50%;"></div>
                                <div style="position: absolute; top: 20px; right: 25%; width: 14px; height: 14px; background: #10B981; border-radius: 50%;"></div>
                                <div style="position: absolute; top: 35px; right: 15%; width: 12px; height: 12px; background: #667eea; border-radius: 50%;"></div>
                                <div style="position: absolute; top: 50px; left: 50%; width: 10px; height: 10px; background: #FE6B8B; border-radius: 50%;"></div>
                                
                                <div style="position: relative; z-index: 1;">
                                    <h3 style="font-size: 28px; color: #FF8E53; font-weight: 800; margin-bottom: 20px;">TUY·ªÜT V·ªúI</h3>
                                    <div style="font-size: 60px; color: #FFD93D; font-weight: 900; margin: 20px 0;">700 ‚ö°</div>
                                    <p style="color: white; font-size: 14px; margin-bottom: 10px;">Ho√†n th√†nh nhi·ªám v·ª•:</p>
                                    <p style="color: white; font-size: 16px; font-weight: 700; margin-bottom: 20px;">M·ªùi 5 b·∫°n b√® (C√≥ x√°c th·ª±c SƒêT)</p>
                                    <p style="color: rgba(255,255,255,0.8); font-size: 13px; line-height: 1.6; margin-bottom: 25px;">
                                        5 b·∫°n ƒëƒÉng k√Ω qua link v√† x√°c th·ª±c SƒêT. T·ªïng c·ªông b·∫°n nh·∫≠n ƒë∆∞·ª£c 1,000 ƒëi·ªÉm t·ª´ 2 nhi·ªám v·ª• m·ªùi b·∫°n! üéâ
                                    </p>
                                    <button style="background: linear-gradient(135deg, #FF8E53, #FE6B8B); color: white; border: none; padding: 14px 30px; border-radius: 10px; font-weight: 700; width: 100%; font-size: 16px;">
                                        Nh·∫≠n ngay (5s)
                                    </button>
                                </div>
                            </div>
                            
                            <div style="background: #DCFCE7; border-radius: 12px; padding: 20px; margin-top: 20px; border: 2px solid #10B981;">
                                <div style="text-align: center;">
                                    <div style="font-size: 16px; color: #059669; font-weight: 700; margin-bottom: 5px;">‚úì C·∫£ 2 nhi·ªám v·ª• ƒë√£ ho√†n th√†nh</div>
                                    <div style="font-size: 24px; color: #10B981; font-weight: 900;">T·ªîNG: 1,000 ‚ö°</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Acceptance Criteria -->
        <div class="flow-section">
            <h2 class="section-title">‚úÖ Acceptance Criteria</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th width="10%">M√£</th>
                            <th width="40%">M√¥ T·∫£</th>
                            <th width="50%">K·∫øt Qu·∫£ Mong ƒê·ª£i</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>AC-1</strong></td>
                            <td>Hi·ªÉn th·ªã referral link</td>
                            <td>Link format: <code>luyende.vn/event/si-tu?ref={unique_code}</code> v·ªõi unique code per user. C√≥ n√∫t "Sao ch√©p" ‚Üí Copy to clipboard ‚Üí Toast: "ƒê√£ sao ch√©p!"</td>
                        </tr>
                        <tr>
                            <td><strong>AC-2</strong></td>
                            <td>Progress tracking (khi login)</td>
                            <td>Hi·ªÉn th·ªã 2 progress card: NV-2 (X/3) v√† NV-3 (X/5) v·ªõi progress bar % ch√≠nh x√°c. <strong>Ch·ªâ update khi user login l·∫°i</strong>, kh√¥ng real-time. N·∫øu login sau khi event k·∫øt th√∫c ‚Üí Kh√¥ng c·ªông ƒëi·ªÉm, show message: "Event ƒë√£ k·∫øt th√∫c"</td>
                        </tr>
                        <tr>
                            <td><strong>AC-3</strong></td>
                            <td>B·∫°n b√® click link ‚Üí Landing page</td>
                            <td>Hi·ªÉn th·ªã engagement UI: "üëã B·∫°n ƒë∆∞·ª£c m·ªùi b·ªüi {t√™n ng∆∞·ªùi m·ªùi}" + th√¥ng tin event + CTA "ƒêƒÉng k√Ω ngay". Ref code embedded trong URL</td>
                        </tr>
                        <tr>
                            <td><strong>AC-4</strong></td>
                            <td>B·∫°n b√® signup v·ªõi ref code</td>
                            <td>Backend l∆∞u: <code>UserReferral(referrer_id, referee_id, status=PENDING, created_at)</code>. Ch∆∞a t√≠nh ƒëi·ªÉm ngay</td>
                        </tr>
                        <tr>
                            <td><strong>AC-5</strong></td>
                            <td>B·∫°n b√® x√°c th·ª±c OTP</td>
                            <td>OTP verify success ‚Üí Backend update <code>status=VERIFIED, verified_at=NOW()</code>. Gi·ªù m·ªõi count v√†o s·ªë b·∫°n ƒë·ªß ƒëi·ªÅu ki·ªán</td>
                        </tr>
                        <tr>
                            <td><strong>AC-6</strong></td>
                            <td>ƒê·ªß 3 b·∫°n VERIFIED ‚Üí NV-2</td>
                            <td>Khi user login l·∫°i + ƒë·ªß 3 b·∫°n VERIFIED + event ƒëang di·ªÖn ra ‚Üí Popup success hi·ªÉn th·ªã ngay sau login (title: "M·ªùi 3 b·∫°n b√® (C√≥ x√°c th·ª±c SƒêT)", points: 300 ‚ö°, confetti animation)</td>
                        </tr>
                        <tr>
                            <td><strong>AC-7</strong></td>
                            <td>ƒê·ªß 5 b·∫°n VERIFIED ‚Üí NV-3</td>
                            <td>Khi user login l·∫°i + ƒë·ªß 5 b·∫°n VERIFIED + event ƒëang di·ªÖn ra ‚Üí Popup success hi·ªÉn th·ªã ngay sau login (title: "M·ªùi 5 b·∫°n b√® (C√≥ x√°c th·ª±c SƒêT)", points: 700 ‚ö°, confetti animation)</td>
                        </tr>
                        <tr>
                            <td><strong>AC-8</strong></td>
                            <td>Popup auto-dismiss</td>
                            <td>Popup hi·ªÉn th·ªã 5s v·ªõi countdown (5s, 4s, 3s, 2s, 1s) ‚Üí Auto close. User c√≥ th·ªÉ click "Nh·∫≠n ngay" ƒë·ªÉ close ngay</td>
                        </tr>
                        <tr>
                            <td><strong>AC-9</strong></td>
                            <td>Share via Zalo/Messenger</td>
                            <td>N√∫t copy link ‚Üí User t·ª± paste v√†o Zalo/Messenger/Facebook. Link format gi·ªØ nguy√™n v·ªõi ref code, kh√¥ng c·∫ßn deeplink ƒë·∫∑c bi·ªát</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Corner Cases -->
        <div class="flow-section">
            <h2 class="section-title">‚ö†Ô∏è Corner Cases</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th width="10%">M√£</th>
                            <th width="35%">T√¨nh Hu·ªëng</th>
                            <th width="55%">·ª®ng X·ª≠ H·ªá Th·ªëng</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>CC-1</strong></td>
                            <td>B·∫°n b√® ƒëƒÉng k√Ω nh∆∞ng kh√¥ng verify OTP</td>
                            <td>Status = PENDING vƒ©nh vi·ªÖn ‚Üí Kh√¥ng count v√†o progress. N·∫øu sau 7 ng√†y v·∫´n PENDING ‚Üí Mark as EXPIRED</td>
                        </tr>
                        <tr>
                            <td><strong>CC-2</strong></td>
                            <td>User t·ª± m·ªùi ch√≠nh m√¨nh (fake account)</td>
                            <td>Backend check: <code>referrer_id != referee_id</code>. N·∫øu tr√πng ‚Üí reject + Toast: "Kh√¥ng th·ªÉ t·ª± m·ªùi ch√≠nh m√¨nh"</td>
                        </tr>
                        <tr>
                            <td><strong>CC-3</strong></td>
                            <td>C√πng 1 SƒêT ƒëƒÉng k√Ω nhi·ªÅu l·∫ßn</td>
                            <td>Backend check duplicate phone. Ch·ªâ count 1 l·∫ßn duy nh·∫•t (first signup). Signup sau ‚Üí kh√¥ng count</td>
                        </tr>
                        <tr>
                            <td><strong>CC-4</strong></td>
                            <td>User share nhi·ªÅu ref code kh√°c nhau</td>
                            <td>M·ªói user ch·ªâ c√≥ 1 ref code duy nh·∫•t (generate l·∫ßn ƒë·∫ßu). Share bao nhi√™u l·∫ßn c≈©ng d√πng code ƒë√≥</td>
                        </tr>
                        <tr>
                            <td><strong>CC-5</strong></td>
                            <td>B·∫°n b√® click link nh∆∞ng kh√¥ng signup ngay</td>
                            <td>Ref code l∆∞u trong localStorage 30 ng√†y. Khi signup sau ‚Üí v·∫´n track ƒë∆∞·ª£c referrer</td>
                        </tr>
                        <tr>
                            <td><strong>CC-6</strong></td>
                            <td>User ƒë√£ complete NV-2, sau ƒë√≥ c√≥ th√™m b·∫°n verify</td>
                            <td>Khi ƒë·ªß 5 b·∫°n ‚Üí Trigger NV-3 (ri√™ng bi·ªát). Kh√¥ng duplicate NV-2. Total = 300 + 700 = 1,000 ƒëi·ªÉm</td>
                        </tr>
                        <tr>
                            <td><strong>CC-7</strong></td>
                            <td>B·∫°n b√® signup t·ª´ nhi·ªÅu referrer kh√°c nhau</td>
                            <td>Count cho referrer ƒë·∫ßu ti√™n (first click). C√°c ref code sau ‚Üí ignore. Log: "User ƒë√£ ƒë∆∞·ª£c m·ªùi b·ªüi X"</td>
                        </tr>
                        <tr>
                            <td><strong>CC-8</strong></td>
                            <td>Event k·∫øt th√∫c nh∆∞ng v·∫´n c√≥ b·∫°n verify</td>
                            <td>N·∫øu user login sau khi event ƒë√£ k·∫øt th√∫c ‚Üí Kh√¥ng trigger completion popup. Show message trong m√†n nhi·ªám v·ª•: "Event ƒë√£ k·∫øt th√∫c, c·∫£m ∆°n b·∫°n ƒë√£ tham gia!"</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Engagement Mechanism -->
        <div class="flow-section">
            <h2 class="section-title">üöÄ Engagement Mechanism (Landing Page)</h2>
            
            <div class="info-box" style="background: #E0E7FF; border-color: #667eea;">
                <h3>üéØ M·ª•c Ti√™u Landing Page</h3>
                <p style="margin-bottom: 15px; line-height: 1.8;">
                    Khi b·∫°n b√® click v√†o referral link, h·ªç PH·∫¢I th·∫•y m·ªôt trang ƒë·∫∑c bi·ªát (kh√¥ng ph·∫£i homepage generic) 
                    ƒë·ªÉ t·∫°o <strong>ƒë·ªông l·ª±c m·∫°nh m·∫Ω</strong> ƒëƒÉng k√Ω. Trang n√†y ph·∫£i highlight:
                </p>
                <ul>
                    <li><strong>Social Proof:</strong> "B·∫°n ƒë∆∞·ª£c m·ªùi b·ªüi {t√™n ng∆∞·ªùi m·ªùi}" ‚Üí T·∫°o trust</li>
                    <li><strong>Event Context:</strong> Th√¥ng tin s·ª± ki·ªán "ƒê∆∞·ªùng ƒêua Sƒ© T·ª≠" v·ªõi total prize 9.9M</li>
                    <li><strong>Community:</strong> "50K+ h·ªçc sinh ƒë√£ tham gia" ‚Üí FOMO effect</li>
                    <li><strong>Clear CTA:</strong> "ƒêƒÉng k√Ω ngay" button n·ªïi b·∫≠t ‚Üí Low friction</li>
                    <li><strong>Benefit Highlight:</strong> "‚úì Mi·ªÖn ph√≠ ¬∑ ‚úì H·ªçc c√πng b·∫°n ¬∑ ‚úì Nh·∫≠n th∆∞·ªüng"</li>
                </ul>
            </div>
            
            <div class="step-container">
                <div class="step-card">
                    <h3 class="step-title">üìä Conversion Funnel</h3>
                    <ul class="step-list">
                        <li>Click ref link ‚Üí Popup tr√™n trang Luyende.vn</li>
                        <li>Read event info ‚Üí See friend's name ‚Üí Trust +</li>
                        <li>Click "ƒêƒÉng k√Ω ngay" ‚Üí Signup form</li>
                        <li>Submit signup ‚Üí OTP screen</li>
                        <li>Verify OTP ‚Üí Welcome screen ‚Üí VERIFIED ‚úì</li>
                    </ul>
                    <div style="background: #DCFCE7; padding: 15px; border-radius: 10px; margin-top: 15px; border: 2px solid #10B981;">
                        <p style="color: #059669; font-size: 13px; line-height: 1.6; margin: 0;">
                            <strong>üéØ Target:</strong> Popup ‚Üí Signup conversion rate ‚â• 40%
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Summary -->
        <div class="summary-box">
            <h3>üìä T√≥m T·∫Øt Key Metrics</h3>
            <div class="summary-grid">
                <div class="summary-item">
                    <div class="summary-label">NV-2 Reward</div>
                    <div class="summary-value">300 ‚ö°</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">NV-3 Reward</div>
                    <div class="summary-value">700 ‚ö°</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Total Points</div>
                    <div class="summary-value">1,000</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Verification</div>
                    <div class="summary-value">OTP ‚úì</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Min Friends</div>
                    <div class="summary-value">3 / 5</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Popup Timing</div>
                    <div class="summary-value">Khi Login</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function downloadHTML() {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Friend_Referral_Tasks_Flow.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>